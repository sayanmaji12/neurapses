<div class="wrapper">
    <div class="container-fluid card mt-5">
        <div class="card-body row">
            <div class="col-md-12">
                <div class="row mt-3 ">
                    <div class="col-sm-6">
                        <h2 class="pull-left">Employees</h2>
                    </div>
                    <div class="col-sm-6 text-end">
                        <a class="btn btn-success pull-right" routerLink="employee/0">Add Employee</a>
                    </div>
                   
                   
                </div>
                <table class="table table-striped mt-3">
                    <thead>
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Employee Name</th>
                            <th scope="col">Address</th>
                            <th scope="col">Email</th>
                            <th scope="col" class="text-center">DOB</th>
                            <th scope="col" class="text-center">Gender</th>
                            <th scope="col" class="text-center">Date of joining</th>
                            <th scope="col" class="text-center">Martial status</th>
                            <th scope="col" class="text-center">Contact No</th>
                            <th scope="col" class="text-center">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngIf="allEmployee.length === 0" class="text-center">
                        <td [colSpan]="10">No Data Found</td>
                        </tr>
                        <tr *ngFor="let data of allEmployee; let i = index">
                        <td>{{i+1}}</td>
                        <td class="text-right">{{data.name}} </td>
                        <td >{{data.address}} </td>
                        <td>{{data.email}} </td>
                        <td class="text-center">{{data.DOB}} </td>
                        <td class="text-center">{{data.gender}} </td>
                        <td class="text-center">{{data.doj}} </td>
                        <td class="text-center">{{data.martialStatus}} </td>
                        <td class="text-center">{{data.phone}} </td>
                        <td class="text-center"><button class="btn btn-warning" [routerLink]="['employee/',data.empId]">Edit</button>&nbsp;<button class="btn btn-danger" (click)="openDeleteModal(data._id, deleteconf, i)">Delete</button></td>
                        </tr>
                        
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<ng-template #deleteconf>
    <div>
      
      <div class="modal-header">
        <h3 class="modal-title">Remove Employee</h3>
        <button type="button" class="btn btn-danger" data-dismiss="modal" aria-label="Close"  (click)="closeModal()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-sm-12">
              <div style="color: #888;">Do you really want to delete this? This process cannot be
                undone.</div>
            </div>
            
            <div class="col-sm-6 text-left  mt-5">
              <button type="button" class="btn btn-dark" (click)="closeModal()">No</button>
            </div>
            <div class="col-sm-6 text-end mt-5">
              <button type="button" class="btn btn-danger" (click)="deleteRow()">Yes</button>
            </div>
            <!-- <div class="col-sm-12">
              <span style="color: red;font-size: 13px;">{{errMsg}}</span>
            </div>
            <div class="col-sm-12">
              <span style="color: green;font-size: 15px;">{{succMsg}}</span>
            </div> -->
          </div>
        </div>
        
      </div>
    </div>
  </ng-template>